/* Pas de scroll horizontal global */
.home-page { overflow-x: clip; }
@supports not (overflow: clip) {
  .home-page { overflow-x: hidden; }
}

/* Conteneur carrousel — surtout pas de 'contain' ici */
.carrousel-container {
  width: 100%;
  overflow: hidden;         /* anti scroll horizontal accidentel */
  box-sizing: border-box;
  /* contain: layout paint;  <-- ❌ à NE PAS remettre, ça coupe le zoom */
}

/* La section du carrousel ne clippe pas le vertical */
.irp-section { position: relative; isolation: isolate; overflow: visible; }

/* Viewport : on clippe en X, on laisse respirer en Y */
.irp-viewport{
  position: relative;
  overflow-x: hidden;       /* pas de scroll horizontal */
  overflow-y: visible;      /* ✅ le zoom peut dépasser en haut/bas */
  border-radius: 12px;
      /* ✅ air vertical suffisant pour scale */
  padding-inline: 8px;
  box-sizing: border-box;
}

/* Swiper setup */
.custom-swiper {                /* c'est l'élément .swiper lui-même */
  overflow: visible !important; /* ✅ libère le zoom vertical */
  padding-block: 20px;          /* ✅ réserve de l’air autour des vignettes */
}

/* Autoriser le dépassement entre slides */
.custom-swiper .swiper-wrapper,
.custom-swiper .swiper-slide {
  overflow: visible;
}
/* Un peu d’air par slide pour que le scale ne “grignote” pas */
.custom-swiper .swiper-slide {
  padding-block: 18px;
  box-sizing: border-box;
}
.custom-swiper .swiper { width: 100%; }

/* Autoriser le dépassement entre slides (desktop) */
.irp-swiper .swiper        { width: 100% !important; overflow: visible; }
.irp-swiper .swiper-wrapper,
.irp-swiper .swiper-slide  { overflow: visible; }

/* Donne de l’air à CHAQUE slide pour le scale */
.irp-swiper .swiper-slide {
  padding-block: 24px;      /* ✅ marge haute/basse par vignette */
  box-sizing: border-box;
}

/* ——— Vignette ——— */
.irp-slide {
  all: unset;
  display: block;
  width: 100%;
  cursor: pointer;
  position: relative;       /* pour z-index au survol */
}

.irp-card {
  position: relative;
  display: block;
  width: 100%;
  aspect-ratio: 16 / 9;     /* hauteur fixe -> pas de “pompe” */
  border-radius: 12px;
  overflow: visible;        /* on laisse déborder visuellement */
  will-change: transform, filter;
  transform-origin: center;
  
}

/* L’image remplit la carte */
.irp-img {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  border-radius: 12px;
  border: 1px solid transparent; /* évite saut quand bordure dorée arrive */
  box-shadow: none;
  transition: border-color .25s ease, box-shadow .35s ease;
}

/* Titre posé sur l’image */
.irp-caption {
  position: absolute;
  left: 0; right: 0; bottom: 0;
  padding: 8px 10px;
  text-align: center;
  font-weight: 700;
  font-size: .95rem;
  color: var(--fg);
  background: linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,.6));
  pointer-events: none;
}
.irp-modal-actions {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;         /* ✅ évite le chevauchement en mobile */
  margin-top: 12px;
}
/* L’overlay peut scroller si besoin (utile quand le contenu dépasse vraiment) */
.irp-modal {
  overflow-y: auto;
}

/* Option : compacter un peu les chips dans la modale */
.irp-modal-actions .home-chip {
width: auto;
  text-align: center;
}

/* Hover desktop : élévation + halo doré */
@media (hover: hover) and (pointer: fine) {
  .irp-slide:hover { z-index: 5; }
  .irp-card:hover  { transform: translateY(-2px) scale(1.08); } /* un poil + visible */
  .irp-card:hover .irp-img {
    border-color: rgba(212,175,55,.35);

  }
}

/* Touch feedback */
@media (hover: none) and (pointer: coarse) {
  .irp-slide:active .irp-card { transform: scale(.99); }
}

/* Focus a11y */
.irp-slide:focus-visible .irp-img {
  outline: 2px solid var(--accent);
  outline-offset: 3px;
}

/* Modale */
.irp-modal {
  position: fixed;
    overflow-y: auto;
  overflow-x: clip; 
  inset: 0;
  z-index: 9999;
  background: rgba(0,0,0,0.85);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
}
@supports not (overflow: clip) {
  .irp-modal { overflow-x: hidden!important; } /* fallback */
}

.irp-modal-content {
     position: relative; /* NEW */
  width: min(80vw, 920px);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  border-radius: 16px;
  color: var(--fg);
  padding: 18px;
    max-height: 88vh;              /* limite à la hauteur visible */
  overflow: auto;                /* ✅ scroll interne */
  overscroll-behavior: contain;  /* pas d’effet élastique qui remonte la page */
  -webkit-overflow-scrolling: touch; /* scroll fluide iOS */
  overflow-x: hidden;
}
/* Texte : casse les très longs mots/URLs pour éviter un débord horizontal */
.irp-modal-content h3,
.irp-modal-content p {
  overflow-wrap: anywhere;     /* modern */
  word-break: break-word;      /* fallback large compat */
  hyphens: auto;               /* jolis césures si dispos */
}
.irp-modal-img {
  display: block;
  width: 70%;
   max-width: 100%;
  margin-inline: auto;
  height: auto;
  aspect-ratio: 16 / 9;
  border-radius: 12px;
  border: 1px solid rgba(212,175,55,0.1);
}

/* Zone d’actions qui reste visible en bas, sans créer de débord */
.irp-modal-actions {
  position: sticky;
  bottom: 0;
  display: flex;
  justify-content: center;
  gap: 12px;
  padding-block: 10px;
  background: linear-gradient(180deg,  rgba(0,0,0,0.5), rgba(0,0,0,0.9));

  width: 100%;
  box-sizing: border-box;
}
/* Modal nav arrows */
.irp-modal-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(0,0,0,.55);
  color: var(--fg);
  font-size: 22px;
  font-weight: 700;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .25s ease, border-color .2s ease;
}

.irp-modal-arrow:hover {
  transform: translateY(-50%) scale(1.06);
  border-color: rgba(212,175,55,.35);
  box-shadow: 0 10px 26px rgba(212,175,55,.25);
}

.irp-modal-arrow:active {
  transform: translateY(-50%) scale(.98);
}

.irp-prev { left: 8px; }
.irp-next { right: 8px; }

.home-hint{
  margin: -4px 0 10px;
  font-size: .95rem;
  color: var(--muted);
  opacity: .95;
}

/* ——— Mobile : on clippe dur et on désactive l’élévation ——— */
@media (max-width: 768px){
  .irp-viewport{
    overflow: hidden;        /* clip dur en mobile */
    padding-block: 12px;
    padding-inline: 0;
  }

  .irp-swiper,
  .irp-swiper .swiper,
  .irp-swiper .swiper-wrapper,
  .irp-swiper .swiper-slide { overflow: hidden !important; }

  .irp-swiper .swiper-slide { padding-block: 10px; }
  .irp-slide:hover .irp-card { transform: none !important; }

  .custom-swiper { overflow: hidden; }
  .irp-modal-img { width: 100%; }
}
@media (max-width: 768px) {
  .irp-modal-arrow { width: 36px; height: 36px; font-size: 18px; }
}
@media (max-width: 768px) {
  .irp-modal-content { max-height: 86dvh; }
  .irp-modal-img { width: 100%; max-height: 56vh; object-fit: contain; }
}